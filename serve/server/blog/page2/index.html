<!DOCTYPE html>
<html>
  <head>
    <meta name="description" content="inchworms RGSoC">
    <meta name="keywords" content="inchworms, rails girls, summer of code, open source, sinatra, farm subsidy">
    <meta name="author" content="inchworms_">
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="alternate" type="application/rss+xml" title="inchworms" href="http://inchworms.net/blog/feed.xml">
    <link rel="shortcut icon" href="/faviconStatic.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>inch by inch</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <a href="/blog" class="">
          <img src="http://25.media.tumblr.com/aab70fec3abd0a9a6b9f1803621aabc0/tumblr_mn2s5hgPpX1qlpk58o1_400.gif" alt="inchworm" height="84" width="100" style="position:relative; top:5px; float:right;">   
          <h1>inchworms</h1></a>
          <h2>Summer of Coding, one inch at a time...</h2>
              
        </header>
   
        <section id="main_content">
            <!-- This loops through the paginated posts -->

  <h1><a href="/blog/2013-07-22-hitzewelle">Hitzewelle!</a></h1>
  <p class="meta">
      
          <a href='http://twitter.com/inchworms_'>inchworms</a> - 
        
    <span class="date">Mon 22 July, 2013, 17:17</span>
    <span style="float:right" ><a href="https://twitter.com/share" class="twitter-share-button" data-text="Hitzewelle!" data-via="inchworms_" data-hashtags="rgsoc" data-count="none">Tweet</a></span>
<script>
!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  </p>
  <div class="content">
    <p>Berlin. 30 degrees in the shade. Everywhere we look Germans are melting. But not our mentor Stefan, the <a href="http://news.bbc.co.uk/sportacademy/hi/sa/tennis/features/newsid_3253000/3253694.stm">Bjorn Borg</a> of Open Data.</p>

<p><img src="/images/stefan.jpg" alt="Stefan Wehrmeyer"></p>

<p>We met with <a href="http://stefanwehrmeyer.com/">Stefan</a> in the morning to discuss the EU FarmSubsidy project we&#39;ll work on in the later part of our Summer of Code. We covered a lot of ground, discussing possible libraries to use, different software that might be helpful, alternate visual approaches, and formulated a rough plan for how we should initially proceed. (Carla was also happy to find data about her uncle&#39;s small farm in Sicily).</p>

<p>Then it was back to the Travis CI office to continue with our Sinatra tests. </p>

<p>The coding was 15% more fun today thanks to glistening nail polish provided by <a href="https://twitter.com/meivx">@meivx</a>. We are thinking of making her our official inchworms stylist.</p>

<iframe src="http://loopc.am/CarlaD/loops/15-more-fun.widget" width="340" height="390" scrolling="no" frameborder="no" allowTransparency="true"></iframe>

<p></p>

<p>We needed more fun because while it may have been the heat, the long list of Sinatra routing tests started to intimidate us. Especially when we realised the list we wrote last week only included the &#39;get&#39; portion of routing requests (not the &#39;post&#39;, &#39;put&#39;, &#39;delete&#39;, &#39;head&#39;, &#39;options&#39;, &#39;patch&#39;, &#39;link&#39;, &#39;unlink&#39; requests). Eeek!</p>

<p>We found something Matt called a <a href="http://youtu.be/3ppsDNkBLGY?t=1m1s">rabbit hole</a> (to do with disabling Rack protection) and had test results totally splatter our screens with red, as if an RSpec chainsaw had been unleashed.</p>

<p><img src="/images/splatter.png" alt="splatter"></p>

<p>Our work continues...</p>

    <img src="/../images/hr.png" style="50% 0 no-repeat">
  </div>
    <p></p>

  <h1><a href="/blog/2013-07-19-yield">Yield! (to my superior knowledge)</a></h1>
  <p class="meta">
      
          <a href='http://twitter.com/inchworms_'>inchworms</a> - 
        
    <span class="date">Fri 19 July, 2013, 16:38</span>
    <span style="float:right" ><a href="https://twitter.com/share" class="twitter-share-button" data-text="Yield! (to my superior knowledge)" data-via="inchworms_" data-hashtags="rgsoc" data-count="none">Tweet</a></span>
<script>
!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  </p>
  <div class="content">
    <p><img src="/images/metamatt.jpg" alt="Meta Matt"></p>

<p>Do not doubt this man. He will take a statement like <strong>yield</strong> and break it into meta-programmed chunks. All before breakfast (smells a lot like RGSoC spirit to us ;-))</p>

<p><em>Very</em> simply, a <strong>yield</strong> statement will invoke a <strong>block</strong>. This is all you really need to know.</p>

<p><img src="http://d24w6bsrhbeh9d.cloudfront.net/photo/ab5ynVp_700b.jpg" alt="we have no idea what we&#39;re doing"></p>

<p>The rest of the day we spent writing the <a href="https://github.com/inchworms/sinatra_tests/blob/master/spec/routing_spec.rb">routing spec</a> for our Sinatra testing and refactoring it all into beautifully contextualised syntax. Here&#39;s a list of the remaining Sinatra routing tests we need to write:</p>

<ul>
<li>allows using unicode</li>
<li>it handles encoded slashes correctly</li>
<li>overrides the content-type in error handlers</li>
<li>matches empty PATH_INFO to &quot;/&quot; if no route is defined for &quot;&quot;</li>
<li>matches empty PATH_INFO to &quot;&quot; if a route is defined for &quot;&quot;</li>
<li>takes multiple definitions of a route</li>
<li>exposes params with indifferent hash</li>
<li>merges named params and query string params in params</li>
<li>supports optional named params like /?:foo?/?:bar?</li>
<li>supports named captures like %r{/hello/(?<person>[^/?+ ]+)} on Ruby &gt;= 1.9</li>
<li>supports optional named captures like %r{/page(?<format>.[^/?+ ]+)?} on Ruby &gt;= 1.9</li>
<li>does not concatinate params with the same name</li>
<li>supports single splat params like /*</li>
<li>supports mixing multiple splat params like /<em>/foo/</em>/*</li>
<li>supports mixing named and splat params like /:foo/*</li>
<li>matches a dot (&#39;.&#39;) as part of a named param</li>
<li>matches a literal dot (&#39;.&#39;) outside of named params</li>
<li>literally matches dollar sign in paths</li>
<li>literally matches plus sign in paths</li>
<li>does not convert plus sign into space as the value of a named param</li>
<li>literally matches parens in paths</li>
<li>supports basic nested params</li>
<li>exposes nested params with indifferent hash</li>
<li>exposes params nested within arrays with indifferent hash</li>
<li>supports arrays within params</li>
<li>supports deeply nested params</li>
<li>preserves non-nested params</li>
<li>matches paths that include spaces encoded with %20</li>
<li>matches paths that include spaces encoded with +</li>
<li>matches paths that include ampersands</li>
<li>URL decodes named parameters and splats</li>
<li>supports regular expressions</li>
<li>makes regular expression captures available in params[:captures]</li>
<li>supports regular expression look-alike routes</li>
<li>raises a TypeError when pattern is not a String or Regexp</li>
<li>returns response immediately on halt</li>
<li>halts with a response tuple</li>
<li>halts with an array of strings</li>
<li>sets response.status with halt</li>
<li>transitions to the next matching route on pass</li>
<li>transitions to 404 when passed and no subsequent route matches</li>
<li>transitions to 404 and sets X-Cascade header when passed and no subsequent route matches</li>
<li>uses optional block passed to pass as route block if no other route is found</li>
<li>passes when matching condition returns false</li>
<li>does not pass when matching condition returns nil</li>
<li>passes to next route when condition calls pass explicitly</li>
<li>passes to the next route when host_name does not match</li>
<li>passes to the next route when user_agent does not match</li>
<li>treats missing user agent like an empty string</li>
<li>makes captures in user agent pattern available in params[:agent]</li>
<li>matches mime_types with dots, hyphens and plus signs</li>
<li>filters by accept header</li>
<li>filters by current Content-Type</li>
<li>allows multiple mime types for accept header</li>
<li>respects user agent preferences for the content type</li>
<li>accepts generic types</li>
<li>prefers concrete over partly generic types</li>
<li>prefers concrete over fully generic types</li>
<li>prefers partly generic over fully generic types</li>
<li>respects quality with generic types</li>
<li>supplies a default quality of 1.0</li>
<li>orders types with equal quality by parameter count</li>
<li>ignores the quality parameter when ordering by parameter count</li>
<li>properly handles quoted strings in parameters</li>
<li>accepts both text/javascript and application/javascript for js</li>
<li>accepts both text/xml and application/xml for xml</li>
<li>passes a single url param as block parameters when one param is specified</li>
<li>passes multiple params as block parameters when many are specified</li>
<li>passes regular expression captures as block parameters</li>
<li>supports mixing multiple splat params like /<em>/foo/</em>/* as block parameters</li>
<li>raises an ArgumentError with block arity &gt; 1 and too many values</li>
<li>raises an ArgumentError with block param arity &gt; 1 and too few values</li>
<li>succeeds if no block parameters are specified</li>
<li>passes all params with block param arity -1 (splat args)</li>
<li>allows custom route-conditions to be set via route options</li>
<li>raises an ArgumentError with block param arity 1 and no values</li>
<li>raises an ArgumentError with block param arity 1 and too many values</li>
<li>matches routes defined in superclasses</li>
<li>matches routes in subclasses before superclasses</li>
<li>adds hostname condition when it is in options</li>
<li>allows using call to fire another request internally</li>
<li>plays well with other routing middleware</li>
<li>returns the route signature</li>
<li>sets env[&#39;sinatra.route&#39;] to the matched route</li>
</ul>

<p>See you sometime next decade...</p>

    <img src="/../images/hr.png" style="50% 0 no-repeat">
  </div>
    <p></p>

  <h1><a href="/blog/2013-07-18-get-requests">Getting Get Requests</a></h1>
  <p class="meta">
      
          <a href='http://twitter.com/inchworms_'>inchworms</a> - 
        
    <span class="date">Thu 18 July, 2013, 14:30</span>
    <span style="float:right" ><a href="https://twitter.com/share" class="twitter-share-button" data-text="Getting Get Requests" data-via="inchworms_" data-hashtags="rgsoc" data-count="none">Tweet</a></span>
<script>
!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  </p>
  <div class="content">
    <p>First of all, <a href="https://twitter.com/_ceciliarivero">Cecilia</a> from #rgsoc-teams, we hope you&#39;re feeling more yourself.</p>

<p><img src="/images/cecilia.png" alt="cecilia"></p>

<p>Secondly, when trying to communicate (to someone remotely) what you&#39;re actually inputing into your terminal, it&#39;s possible to make a video capture of your screen online and send a link to your remote buddy. Just use <a href="http://ascii.io">ascii.io</a>. </p>

<p>We weren&#39;t able to access our localhost server using telnet so sent this to Konstantin:</p>

<script type="text/javascript" src="http://ascii.io/a/4235.js" id="asciicast-4235" async></script>

<p></p>

<p>Our mistake was failing to simply enter an empty line...</p>

<p>Why were we doing this? Because yesterday we started writing tests for Sinatra, focusing initially on all the HTTP requests. Using telnet is one way of seeing what the server response is. Useful for us to see what we would be testing for.</p>

<p>Actually Konstantin hand drew some requests/responses for us yesterday.</p>

<iframe src="http://loopc.am/CarlaD/loops/24.widget" width="340" height="390" scrolling="no" frameborder="no" allowTransparency="true"></iframe>

<p>We also did a bit of reading at lunch from <a href="http://shop.oreilly.com/product/0636920019664.do">Sinatra: Up and Running</a>. It has a nice little <a href="https://github.com/inchworms/rock_paper_scissors">example app</a> in Chapter 1 that lets you play Rock Paper Scissors with your computer. It&#39;s super simple, but very instructive!
<p></p></p>

<p><img src="/images/booklunch.jpg" alt="books for lunch"></p>

<p>AND we wrote a few tests: GET returns 200 as a status, returns body as string, returns body as array; GET /hello returns the exected route.</p>

<p>More tomorrow.</p>

    <img src="/../images/hr.png" style="50% 0 no-repeat">
  </div>
    <p></p>

  <h1><a href="/blog/2013-07-17-stubs">Don't Unleash the Stubs!</a></h1>
  <p class="meta">
      
          <a href='http://twitter.com/inchworms_'>inchworms</a> - 
        
    <span class="date">Wed 17 July, 2013, 16:21</span>
    <span style="float:right" ><a href="https://twitter.com/share" class="twitter-share-button" data-text="Don't Unleash the Stubs!" data-via="inchworms_" data-hashtags="rgsoc" data-count="none">Tweet</a></span>
<script>
!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  </p>
  <div class="content">
    <p>Today we watched the rest of Part 2 of PeepCode&#39;s excellent <a href="https://peepcode.com/products/rspec-ii">RSpec video tutorial</a>. This one covered:</p>

<p><strong>The three stages of testing</strong></p>

<ul>
<li>Automated testing with RSpec</li>
<li>Manual Testing with QA testing</li>
<li>Production deployment with customers</li>
</ul>

<p><strong>API discovery</strong></p>

<ul>
<li>Writing an example to describe expected output</li>
<li>Learning how an API works by writing examples</li>
<li>Using XPath syntax with Nokogiri (although <a href="https://twitter.com/svenfuchs">@svenfuchs</a> suggested using CSS instead)</li>
<li>Extracting the author name from an RSS feed</li>
</ul>

<p><strong>Custom Matcher</strong></p>

<ul>
<li>Extracting a post&#39;s publication date</li>
<li>Parsing an XML date into a Ruby object</li>
<li>Writing a custom matcher (see David Chelimsky&#39;s <a href="https://github.com/dchelimsky/rspec/wiki/custom-matchers">wiki</a>)</li>
<li>Verifying the parsing of the date object</li>
</ul>

<p><strong>Configuration Options</strong></p>

<ul>
<li>Creating a .rpsec file</li>
<li>Understanding the options in the rspec command</li>
<li>Using an alternate report formatter</li>
<li>Setting custom options as the default</li>
</ul>

<p><strong>Retrieving Data</strong></p>

<ul>
<li>Retreiving data from an external server</li>
<li>Organising network code for easier testing</li>
</ul>

<p><strong>Stubs &amp; Mocks</strong></p>

<ul>
<li>Understanding stubs and mocks</li>
<li>Using paceholder code to make your examples faster and more consistent</li>
<li>Intercepting network calls with a stub</li>
<li>Expecting specific methods to be called with a mock</li>
</ul>

<p>Stub Syntax:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">    # Syntax
    my_object.stub(:my_method).and_return(my_data)

    # Usage in this tutorial
    client.stub(:get).and_return(xml)
</code></pre></div>
<p>But don&#39;t forget:</p>

<p><img src ="/images/stubs.png" alt="stubs" width="600"></p>

<p><strong>Context, Edge Cases, Corner Cases</strong></p>

<ul>
<li>Writing examples for non-successful edge and corner cases</li>
<li>Organising examples into success and error contexts</li>
<li>Learning to think about ways things could go wrong</li>
<li>Discovering errors and anticipating them in your code</li>
</ul>

<iframe width="100%" height="166" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F101261906&amp;color=ff6600&amp;auto_play=false&amp;show_artwork=false"></iframe>

    <img src="/../images/hr.png" style="50% 0 no-repeat">
  </div>
    <p></p>

  <h1><a href="/blog/2013-07-15-red-green-refactor">Red Green Refactor</a></h1>
  <p class="meta">
      
          <a href='http://twitter.com/inchworms_'>inchworms</a> - 
        
    <span class="date">Tue 16 July, 2013, 17:24</span>
    <span style="float:right" ><a href="https://twitter.com/share" class="twitter-share-button" data-text="Red Green Refactor" data-via="inchworms_" data-hashtags="rgsoc" data-count="none">Tweet</a></span>
<script>
!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  </p>
  <div class="content">
    <p>Today we watched an excellent <a href="https://peepcode.com/products/rspec-i">video tutorial</a> by PeepCode to learn more about RSpec. It covered:</p>

<ul>
<li>Learning the basic concept of the RSpec testing framework</li>
<li>Learning the syntax of RSpec</li>
<li>Using Rspec in isolation with a basic Ruby project</li>
<li>Understanding the <strong>describe</strong> and <strong>it</strong> methods</li>
</ul>

<p>Some key RSpec syntax:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">    expect(thing).to eq &#39;result&#39;    
</code></pre></div>
<p>And also:   </p>

<ul>
<li>Understanding the red/green cycle of development</li>
<li>Implementing the first feature of the application</li>
<li>Creating a client and giving it a URL</li>
<li>Using an <a href="https://plus.google.com/104025798250320128549/posts">HTTP Client app</a> to see what a URL returns when sent a request</li>
<li>Fetching an XML feed</li>
<li>Parsing the XML of the comments feed</li>
<li>Using the <strong>let</strong> method to simplify setup</li>
<li>Using nested <strong>describe</strong> blocks</li>
<li>Organising application code</li>
<li>Debugging and fixing errors in RSpec code</li>
<li>Parsing extra fields</li>
<li>Working with unexpected Unicode input</li>
<li>Using trivial examples to catch errors and expose assumptions</li>
</ul>

<p>You can look at the code on <a href="https://github.com/inchworms/tutorial_commentsdashboard">GitHub</a>.</p>

<iframe width="100%" height="166" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F101281977&amp;color=ff6600&amp;auto_play=false&amp;show_artwork=false"></iframe>

<p>Then we started working on <a href="https://peepcode.com/products/rspec-ii">Part 2</a> of the PeepCode tutorial, which we&#39;ll finish tomorrow.</p>

<p>Oh yeah, we had a yummy lunch at <a href="http:co-up.de">Co.Up</a> with Matt and Urs (and Nabil, Andy, and Hannah)...</p>

<p><img src ="/images/salad.jpg" alt="salad" width="400"></p>

<p>...and <a href="https://twitter.com/bumbledebee">@bumbledeebee</a> left us a gift!</p>

<p><img src ="/images/bubbles.jpg" alt="bubbles" width="400"></p>

    <img src="/../images/hr.png" style="50% 0 no-repeat">
  </div>
    <p></p>



<!-- Pagination litransparent url('/../images/hr.png') 0 0 no-repeatnks -->
<div class="pagination">
  
    <br>
    

      
          <a href="/blog" class="previous " style="padding-left:5px">Recent Posts</a>
        
    
    
    <span class="page_number " style="padding-left:25%; font-weight:normal; font-size:12px;">Page: 2 of 6</span>

     
    
      <a href="/blog/page3" class="next " style="float:right; padding-right:30px;">Earlier Posts</a>
    
  
</div>

        </section>

        <footer>
          inchworms is maintained by <a href="https://github.com/carlad">carlad</a> & <a href="https://github.com/tyranja">tyranja</a> as part of their <a href="http://railsgirlssummerofcode.org">Rails Girls Summer of Code</a> team project.<br>
          An <a href="http://inchworms.net/blog/feed.xml">RSS feed</a> is available. You can also follow inchworms on <a href="https://twitter.com/inchworms_">twitter</a>.<br> 
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.<br>
        </footer>

                  <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-41825288-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

          <!-- Start of StatCounter Code for Default Guide -->
              <script type="text/javascript">
                var sc_project=9035219; 
                var sc_invisible=1; 
                var sc_security="4db3485e"; 
                var scJsHost = (("https:" == document.location.protocol) ?
                "https://secure." : "http://www.");
                document.write("<sc"+"ript type='text/javascript' src='" +
                scJsHost+
                "statcounter.com/counter/counter.js'></"+"script>");
              </script>
              <noscript>
                <div class="statcounter"><a title="web counter"
                  href="http://statcounter.com/free-hit-counter/"
                  target="_blank"><img class="statcounter"
                  src="http://c.statcounter.com/9035219/0/4db3485e/1/"
                  alt="web counter"></a></div>
            </noscript>
              <!-- End of StatCounter Code for Default Guide -->

      </div>
    </div>
  </body>
</html>
